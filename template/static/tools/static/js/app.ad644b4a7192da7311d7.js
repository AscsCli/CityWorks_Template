webpackJsonp([1],{"+skl":function(e,t){},"3jxn":function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=r("VU/8")({name:"App"},n,!1,function(e){r("3jxn")},null,null).exports,o=r("/ocq"),s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("h1",[e._v(e._s(e.msg))]),e._v(" "),r("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),r("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),r("li",[r("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),r("li",[r("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),r("li",[r("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),r("br"),e._v(" "),r("li",[r("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};r("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},s,!1,function(e){r("Ugm9")},"data-v-694cd902",null).exports;var l=r("mvHQ"),E=r.n(l),c=r("BO1k"),m=r.n(c),u=r("Meid"),I={init:function(e,t){try{u.isLoaded()||u.bootstrap(function(e){},{url:layerConfig.arcgisAPIUrl})}catch(e){}},map:{},layerLength:0,layerConfigs:[],getSingleLayerName:function(e,t,r){u.dojoRequire(["esri/map","esri/layers/ArcGISTiledMapServiceLayer","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/ArcGISImageServiceLayer","esri/dijit/OverviewMap","esri/layers/WMTSLayer","esri/layers/WMTSLayerInfo","esri/geometry/Extent","esri/layers/TileInfo","esri/SpatialReference"],function(a,n,i,o,s,l,E,c,u,f){I.layerLength=0,I.layerConfigs=[];var v=new a("mapLayer"),y=new i(e);v.addLayer(y),v.on("load",function(){if(y.layerInfos.length>0){var e=!0,a=!1,n=void 0;try{for(var i,o=m()(y.layerInfos);!(e=(i=o.next()).done);e=!0){var s=i.value;null==s.subLayerIds&&String(s.id)===String(t)&&(console.log(s),r(s.name))}}catch(e){a=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(a)throw n}}}})})},getSingleLayerOther:function(e){I.layerLength=0,I.layerConfigs=[];var t=new Object;return t.SERVICES_ADDR="",t.LAYERID="",t.DISPLAYLAYERNAME=e.DISPLAYLAYERNAME,t.MAPSERVICES=e.MAPSERVICES,t.LAYER_TYPE=e.LAYER_TYPE,t.MOUSEMOVE_FIELD={},t.MOUSEMOVE_FIELD.FIELD=[],t.SELDEFINE={},t.SELDEFINE.PROPERTY=[{PROPER_DESCRIPTION:"权限值",PROPER_KEY:"priority",PROPER_VALUE:"2"},{PROPER_DESCRIPTION:"点击查询",PROPER_KEY:"clickFlag",PROPER_VALUE:"1"},{PROPER_DESCRIPTION:"移动查询",PROPER_KEY:"queryFlag",PROPER_VALUE:"1"},{PROPER_DESCRIPTION:"透明度",PROPER_KEY:"alpha",PROPER_VALUE:"0.5"}],I.layerConfigs.push(t),I.layerConfigs},getSingleLayer:function(e,t,r){u.dojoRequire(["esri/map","esri/layers/ArcGISTiledMapServiceLayer","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/ArcGISImageServiceLayer","esri/dijit/OverviewMap","esri/layers/WMTSLayer","esri/layers/WMTSLayerInfo","esri/geometry/Extent","esri/layers/TileInfo","esri/SpatialReference"],function(a,n,i,o,s,l,E,c,u,f){I.layerLength=0,I.layerConfigs=[];var v=new a("mapLayer"),y=new i(e);v.addLayer(y),v.on("load",function(){if(y.layerInfos.length>0){var a=!0,n=!1,i=void 0;try{for(var o,s=m()(y.layerInfos);!(a=(o=s.next()).done);a=!0){var l=o.value;null==l.subLayerIds&&String(l.id)===String(t)&&I.getLayer2(l,e,r)}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}}})})},getLayer2:function(e,t,r){var a=new Object;a.SERVICES_ADDR=t+"/"+e.id,a.LAYERID=String(e.id),a.DISPLAYLAYERNAME=e.name,a.MAPSERVICES=t,a.LAYER_TYPE="ArcGISDynamicMapServiceLayer",a.MOUSEMOVE_FIELD={},a.MOUSEMOVE_FIELD.FIELD=[],a.SELDEFINE={},a.SELDEFINE.PROPERTY=[{PROPER_DESCRIPTION:"权限值",PROPER_KEY:"priority",PROPER_VALUE:"5"},{PROPER_DESCRIPTION:"点击查询",PROPER_KEY:"clickFlag",PROPER_VALUE:"1"},{PROPER_DESCRIPTION:"移动查询",PROPER_KEY:"queryFlag",PROPER_VALUE:"1"},{PROPER_DESCRIPTION:"透明度",PROPER_KEY:"alpha",PROPER_VALUE:"0.5"}],I.layerConfigs.push(a),u.dojoRequire(["esri/map","esri/tasks/query","esri/graphic","esri/graphicsUtils","esri/tasks/QueryTask","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon"],function(e,t,n,i,o,s,l,E){var c=new o(a.SERVICES_ADDR),u=new t;u.where="1=1",u.returnGeometry=!1,u.outFields=["*"],c.execute(u,function(e){console.log(e);var t=e.fields,n=!0,i=!1,o=void 0;try{for(var s,l=m()(t);!(n=(s=l.next()).done);n=!0){var E=s.value,c=new Object;c.FIELD_CNAME=E.alias,c.FIELD_ENAME=E.name,a.MOUSEMOVE_FIELD.FIELD.push(c)}}catch(e){i=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw o}}r(I.layerConfigs)})})},getBatchLayer:function(e,t){u.dojoRequire(["esri/map","esri/layers/ArcGISTiledMapServiceLayer","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/ArcGISImageServiceLayer","esri/dijit/OverviewMap","esri/layers/WMTSLayer","esri/layers/WMTSLayerInfo","esri/geometry/Extent","esri/layers/TileInfo","esri/SpatialReference"],function(r,a,n,i,o,s,l,E,c,m){I.layerLength=0,I.layerConfigs=[];var u=new r("mapLayer"),f=new n(e);u.addLayer(f),u.on("load",function(){f.layerInfos.length>0&&I.getLayer(f.layerInfos,e,t)})})},getLayer:function(e,t,r){var a=e[I.layerLength];if(null==a.subLayerIds){var n=new Object;n.SERVICES_ADDR=t+"/"+a.id,n.LAYERID=String(a.id),n.DISPLAYLAYERNAME=a.name,n.MAPSERVICES=t,n.LAYER_TYPE="ArcGISDynamicMapServiceLayer",n.MOUSEMOVE_FIELD={},n.MOUSEMOVE_FIELD.FIELD=[],n.SELDEFINE={},n.SELDEFINE.PROPERTY=[{PROPER_DESCRIPTION:"权限值",PROPER_KEY:"priority",PROPER_VALUE:"5"},{PROPER_DESCRIPTION:"点击查询",PROPER_KEY:"clickFlag",PROPER_VALUE:"1"},{PROPER_DESCRIPTION:"移动查询",PROPER_KEY:"queryFlag",PROPER_VALUE:"1"},{PROPER_DESCRIPTION:"透明度",PROPER_KEY:"alpha",PROPER_VALUE:"0.5"}],I.layerConfigs.push(n),u.dojoRequire(["esri/map","esri/tasks/query","esri/graphic","esri/graphicsUtils","esri/tasks/QueryTask","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon"],function(a,i,o,s,l,E,c,u){var f=new l(n.SERVICES_ADDR),v=new i;v.where="1 > 2",v.returnGeometry=!1,v.outFields=["*"],f.execute(v,function(a){console.log(n);var i=a.fields,o=!0,s=!1,l=void 0;try{for(var E,c=m()(i);!(o=(E=c.next()).done);o=!0){var u=E.value,f=new Object;f.FIELD_CNAME=u.alias,f.FIELD_ENAME=u.name,n.MOUSEMOVE_FIELD.FIELD.push(f)}}catch(e){s=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw l}}I.layerLength+1==e.length?r(I.layerConfigs):(I.layerLength=I.layerLength+1,I.getLayer(e,t,r))})})}else I.layerLength=I.layerLength+1,I.getLayer(e,t,r)},queryLayer:function(){}},f={};f.createXML=function(e){var t=function(){var e;if(window.ActiveXObject)e=new ActiveXObject("Microsoft.XMLDOM");else{if(!document.implementation||!document.implementation.createDocument)return void alert("您的浏览器不支持文档对象XMLDOM");e=document.implementation.createDocument("","",null)}return e}();if(t){var r=t.createElement("LAYERS"),a=!0,n=!1,i=void 0;try{for(var o,s=m()(e);!(a=(o=s.next()).done);a=!0){var l=o.value,E=t.createElement("LAYER");E.setAttribute("SERVICES_ADDR",l.SERVICES_ADDR),E.setAttribute("LAYERID",l.LAYERID),E.setAttribute("MAPSERVICES",l.MAPSERVICES),E.setAttribute("LAYER_TYPE",l.LAYER_TYPE),E.setAttribute("DISPLAYLAYERNAME",l.DISPLAYLAYERNAME);var c=t.createElement("SELDEFINE"),u=!0,I=!1,f=void 0;try{for(var v,y=m()(l.SELDEFINE.PROPERTY);!(u=(v=y.next()).done);u=!0){var R=v.value,d=t.createElement("PROPERTY");d.setAttribute("PROPER_KEY",R.PROPER_KEY),d.setAttribute("PROPER_VALUE",R.PROPER_VALUE),c.appendChild(d)}}catch(e){I=!0,f=e}finally{try{!u&&y.return&&y.return()}finally{if(I)throw f}}E.appendChild(c);var S=t.createElement("MOUSEMOVE_FIELD"),p=!0,h=!1,L=void 0;try{for(var _,A=m()(l.MOUSEMOVE_FIELD.FIELD);!(p=(_=A.next()).done);p=!0){var P=_.value,g=t.createElement("FIELD");g.setAttribute("FIELD_CNAME",P.FIELD_CNAME),g.setAttribute("FIELD_ENAME",P.FIELD_ENAME),S.appendChild(g)}}catch(e){h=!0,L=e}finally{try{!p&&A.return&&A.return()}finally{if(h)throw L}}E.appendChild(S),r.appendChild(E)}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}return t.appendChild(r),function(e){if(window.ActiveXObject)return e.xml;if(document.implementation&&document.implementation.createDocument)return(new XMLSerializer).serializeToString(e)}(t)}};var v={components:{},data:function(){return{start:"-1",end:"-1",layerType:"批量",xmlType:"json",phone:"apple",urlParameter:"",MAPSERVICES:"",resultText:"",formItem:{SERVICES_ADDR:"",LAYERID:"",DISPLAYLAYERNAME:"",MAPSERVICES:"",LAYER_TYPE:""}}},props:{},methods:{btnClick:function(){if("单个"==this.layerType)if("ArcGISDynamicMapServiceLayer"==this.formItem.LAYER_TYPE)I.getSingleLayer(this.formItem.MAPSERVICES,this.formItem.LAYERID,this.addMoreLayerFun);else if("json"==this.xmlType){var e=E()(I.getSingleLayerOther(this.formItem),null,2);e=e.substr(1,e.length-2),this.resultText=e}else{var t=f.createXML(I.getSingleLayerOther(this.formItem));this.resultText=t}else I.getBatchLayer(this.MAPSERVICES,this.addMoreLayerFun)},addMoreLayerFun:function(e){if("xml"==this.xmlType){var t=f.createXML(e);this.resultText=t}else{var r=E()(e,null,2);r=r.substr(1,r.length-2),this.resultText=r}},serviceChane:function(){if(-1!=this.formItem.SERVICES_ADDR.indexOf("MapServer")){var e=this.formItem.SERVICES_ADDR.split("MapServer");this.formItem.LAYERID=e[1].split("/")[1],this.formItem.MAPSERVICES=e[0]+"MapServer",this.formItem.LAYER_TYPE="ArcGISDynamicMapServiceLayer",I.getSingleLayerName(this.formItem.MAPSERVICES,this.formItem.LAYERID,this.getLayerName),console.log(e)}},getLayerName:function(e){this.formItem.DISPLAYLAYERNAME=e},clearClick:function(){this.formItem.LAYERID="",this.formItem.MAPSERVICES="",this.formItem.LAYER_TYPE="",this.formItem.DISPLAYLAYERNAME="",this.formItem.SERVICES_ADDR=""}},computed:{},mounted:function(){I.init()},destroyed:function(){}},y={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row",staticStyle:{height:"100%",width:"100%"}},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"col-md-6"},[r("RadioGroup",{model:{value:e.layerType,callback:function(t){e.layerType=t},expression:"layerType"}},[r("Radio",{attrs:{label:"单个"}}),e._v(" "),r("Radio",{attrs:{label:"批量"}})],1)],1),e._v(" "),r("div",{staticClass:"col-md-6"},[r("RadioGroup",{model:{value:e.xmlType,callback:function(t){e.xmlType=t},expression:"xmlType"}},[r("Radio",{attrs:{label:"xml"}}),e._v(" "),r("Radio",{attrs:{label:"json"}})],1)],1),e._v(" "),r("Form",{directives:[{name:"show",rawName:"v-show",value:"单个"==e.layerType,expression:"layerType == '单个'"}],attrs:{model:e.formItem,"label-width":80}},[r("FormItem",{attrs:{label:"SERVICES地址"}},[r("Input",{on:{"on-change":e.serviceChane},model:{value:e.formItem.SERVICES_ADDR,callback:function(t){e.$set(e.formItem,"SERVICES_ADDR",t)},expression:"formItem.SERVICES_ADDR"}})],1),e._v(" "),r("FormItem",{attrs:{label:"SERVICESID"}},[r("Input",{model:{value:e.formItem.LAYERID,callback:function(t){e.$set(e.formItem,"LAYERID",t)},expression:"formItem.LAYERID"}})],1),e._v(" "),r("FormItem",{attrs:{label:"图层名称"}},[r("Input",{model:{value:e.formItem.DISPLAYLAYERNAME,callback:function(t){e.$set(e.formItem,"DISPLAYLAYERNAME",t)},expression:"formItem.DISPLAYLAYERNAME"}})],1),e._v(" "),r("FormItem",{attrs:{label:"MAPSERVICE地址"}},[r("Input",{model:{value:e.formItem.MAPSERVICES,callback:function(t){e.$set(e.formItem,"MAPSERVICES",t)},expression:"formItem.MAPSERVICES"}})],1),e._v(" "),r("FormItem",{attrs:{label:"图层类型"}},[r("Select",{model:{value:e.formItem.LAYER_TYPE,callback:function(t){e.$set(e.formItem,"LAYER_TYPE",t)},expression:"formItem.LAYER_TYPE"}},[r("Option",{attrs:{value:"ArcGISDynamicMapServiceLayer"}},[e._v("ArcGISDynamicMapServiceLayer")]),e._v(" "),r("Option",{attrs:{value:"ArcGISTiledMapServiceLayer"}},[e._v("ArcGISTiledMapServiceLayer")]),e._v(" "),r("Option",{attrs:{value:"ArcGISImageServiceLayer"}},[e._v("ArcGISImageServiceLayer")])],1)],1)],1),e._v(" "),r("Form",{directives:[{name:"show",rawName:"v-show",value:"批量"==e.layerType,expression:"layerType == '批量'"}],attrs:{"label-width":80}},[r("FormItem",{attrs:{label:"MAPSERVICE地址"}},[r("Input",{model:{value:e.MAPSERVICES,callback:function(t){e.MAPSERVICES=t},expression:"MAPSERVICES"}})],1)],1),e._v(" "),r("Button",{attrs:{type:"primary"},on:{click:e.btnClick}},[e._v("生成配置")]),e._v(" "),r("Button",{attrs:{type:"error"},on:{click:e.clearClick}},[e._v("清空")])],1),e._v(" "),r("div",{staticClass:"col-md-6",staticStyle:{height:"100%"}},[r("Input",{staticClass:"t-textarea",attrs:{rows:35,type:"textarea"},model:{value:e.resultText,callback:function(t){e.resultText=t},expression:"resultText"}})],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"mapLayer"}})])},staticRenderFns:[]};var R=r("VU/8")(v,y,!1,function(e){r("aaYn")},"data-v-7801cd74",null).exports,d={init:function(e,t){try{u.isLoaded()||u.bootstrap(function(e){},{url:layerConfig.arcgisAPIUrl})}catch(e){}},getShpJson:function(e,t,r){u.dojoRequire(["esri/map","esri/tasks/query","esri/graphic","esri/graphicsUtils","esri/tasks/QueryTask","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon"],function(a,n,i,o,s,l,E,c){var u=new s(e.SERVICES_ADDR),I=new n,f=Number(e.count)+Number(e.num);e.end<f&&-1!=e.end&&(f=e.end),I.where="OBJECTID >= "+e.count+" and  OBJECTID < "+f,I.returnGeometry=!0,I.outFields=["*"],u.execute(I,function(a){if(a.features.length>0){var n=!0,i=!1,o=void 0;try{for(var s,l=m()(a.features);!(n=(s=l.next()).done);n=!0){var E=s.value;delete E.geometry.spatialReference,delete E.geometry._ring}}catch(e){i=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw o}}0==t.length&&(e.proj="null")&&(a.spatialReference=null),t.push(a),e.count=Number(e.count)+Number(e.num),d.getShpJson(e,t,r)}else r(t)})})}},S={components:{},data:function(){return{textModel:"",formItem:{SERVICES_ADDR:"http://121.201.65.133:2001/arcgis/rest/services/baoan_data5/MapServer/8",start:0,end:-1,num:50,proj:"",count:0}}},props:{},methods:{btnClick:function(){this.textModel="",this.formItem.count=0;var e=new Array;d.getShpJson(this.formItem,e,this.getJson)},getJson:function(e){for(var t=0;t<e.length;t++)if(0==t)this.textModel=E()(e[t]),this.textModel=this.textModel.substr(0,this.textModel.length-19);else{var r=E()(e[t].features);this.textModel=this.textModel+","+r.substr(1,r.length-2)}this.textModel=this.textModel+"]}",ipcRenderer.send("asynchronous-message",this.textModel)}},computed:{},mounted:function(){d.init()},destroyed:function(){}},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row",staticStyle:{height:"100%",width:"100%"}},[r("div",{staticClass:"col-md-6"},[r("Form",{attrs:{"label-width":80}},[r("FormItem",{attrs:{label:"SERVICES地址"}},[r("Input",{model:{value:e.formItem.SERVICES_ADDR,callback:function(t){e.$set(e.formItem,"SERVICES_ADDR",t)},expression:"formItem.SERVICES_ADDR"}})],1),e._v(" "),r("FormItem",{attrs:{label:"起点"}},[r("Input",{model:{value:e.formItem.start,callback:function(t){e.$set(e.formItem,"start",t)},expression:"formItem.start"}})],1),e._v(" "),r("FormItem",{attrs:{label:"终点"}},[r("Input",{model:{value:e.formItem.end,callback:function(t){e.$set(e.formItem,"end",t)},expression:"formItem.end"}})],1),e._v(" "),r("FormItem",{attrs:{label:"间隔数"}},[r("Input",{model:{value:e.formItem.num,callback:function(t){e.$set(e.formItem,"num",t)},expression:"formItem.num"}})],1),e._v(" "),r("FormItem",{attrs:{label:"proj"}},[r("Input",{model:{value:e.formItem.proj,callback:function(t){e.$set(e.formItem,"proj",t)},expression:"formItem.proj"}})],1),e._v(" "),r("FormItem",{attrs:{label:"进度"}},[r("Input",{attrs:{disabled:""},model:{value:e.formItem.count,callback:function(t){e.$set(e.formItem,"count",t)},expression:"formItem.count"}})],1),e._v(" "),r("Button",{attrs:{type:"primary"},on:{click:e.btnClick}},[e._v("生成配置")])],1)],1),e._v(" "),r("div",{staticClass:"col-md-6",staticStyle:{height:"100%"}},[r("div",{ref:"test",staticClass:"t-textarea",staticStyle:{width:"500px","max-height":"800px","background-color":"#cccccc",overflow:"auto"}})]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"mapLayer"}})])},staticRenderFns:[]};r("VU/8")(S,p,!1,function(e){r("qnMP")},"data-v-423c145b",null).exports;a.default.use(o.a);var h=new o.a({routes:[{path:"/",name:"GisTemplate",component:R}]}),L=r("BTaQ"),_=r.n(L);r("+skl");a.default.use(_.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:h,components:{App:i},template:"<App/>"})},Ugm9:function(e,t){},aaYn:function(e,t){},qnMP:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ad644b4a7192da7311d7.js.map